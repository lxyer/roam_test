- ____ — via [开放API网关实践(二) —— 重放攻击及防御 - SegmentFault 思否](https://segmentfault.com/a/1190000020036097) [+Roam](<+Roam.md>)
    - 重放操作是接口调试中比较常用的手段, 这种操作可以让我们跳过认证信息的生成过程, 直接重复发起多次有效的请求
    - 重放攻击是一种黑客常用的攻击手段, 又称重播攻击、回放攻击, 是指攻击者发送目的主机已接收过的数据, 以达到欺骗系统的目的, 主要用于身份认证过程, 破坏认证的正确性.
    - 如何防御重放攻击
        - 加随机数: 该方法优点是认证双方不需要时间同步，双方记住使用过的随机数, 如发现报文中有以前使用过的随机数, 就认为是重放攻击. 缺点是需要额外保存使用过的随机数, 若记录的时间段较长, 则保存和查询的开销较大.
        - 加时间戳: 该方法优点是不用额外保存其他信息. 缺点是认证双方需要准确的时间同步, 同步越好, 受攻击的可能性就越小. 但当系统很庞大, 跨越的区域较广时, 要做到精确的时间同步并不是很容易.
        - 加流水号: 就是双方在报文中添加一个逐步递增的整数, 只要接收到一个不连续的流水号报文(太大或太小), 就认定有重放威胁. 该方法优点是不需要时间同步, 保存的信息量比随机数方式小. 缺点是一旦攻击者对报文解密成功, 就可以获得流水号, 从而每次将流水号递增欺骗认证端.
    - 重放攻击是一种常用且有效的攻击手段, 其危害不可忽视, 尽管可以通过业务层面来保障数据的正确性, 但依旧会给系统造成不必要开销, 在网关层过滤掉重放请求是一个不错的选择.
- 转正答辩
    - 一、工作总结与回顾： 学习了解 PaaS 产品体系
        - 学习了解各个 PaaS 产品的文档、用户手册、白皮书。了解产品的功能和使用场景。并与开源的中间件对应。
        - 后面主要深入r2m 和网关两个产品，申请了代码权限，查阅了问题库和常见问题，按照功能在代码中跟了些实现逻辑
    - 一、工作总结与回顾： 对外支持
        - 整理 Excel问题库，做好分类，便于后期筛选统计
    - 一、工作总结与回顾： 朴道网关标准接口
        - 年前比较大的一块工作就是朴道网关标准接口开发，依据朴道提供的文档和相关会议讨论，我整理出技术方案和任务排期。
    - 一、工作总结与回顾： 朴道网关证书同步
        - 两种方案
            - 创建新表：不用考虑之前业务逻辑的影响
            - 复用原表：可以复用网关中证书管理的功能(插件中获取证书的逻辑也改动比较小)
    - 一、工作总结与回顾： 加密机 SDK
        - 加密厂商提供的依赖封装到 SDK 中，插件中引用 SDK，为后面更换厂商或者变更算法预留拓展可能性
    - 一、工作总结与回顾： 插件开发 SPI 拓展
        - spi能带来的好处
            - 不需要改动源码就可以实现扩展，解耦。
            - 实现扩展对原来的代码几乎没有侵入性。
            - 只需要添加配置就可以实现扩展，符合开闭原则。
    - 二、问题思考： 重放&DDoS攻击
        - 重放攻击是一种黑客常用的攻击手段, 又称重播攻击、回放攻击, 是指攻击者发送目的主机已接收过的数据, 以达到欺骗系统的目的, 主要用于身份认证过程, 破坏认证的正确性.
        - 如何防御重放攻击
            - 加随机数: 该方法优点是认证双方不需要时间同步，双方记住使用过的随机数, 如发现报文中有以前使用过的随机数, 就认为是重放攻击. 缺点是需要额外保存使用过的随机数, 若记录的时间段较长, 则保存和查询的开销较大.
            - 加时间戳: 该方法优点是不用额外保存其他信息. 缺点是认证双方需要准确的时间同步, 同步越好, 受攻击的可能性就越小. 但当系统很庞大, 跨越的区域较广时, 要做到精确的时间同步并不是很容易.
            - 加流水号: 就是双方在报文中添加一个逐步递增的整数, 只要接收到一个不连续的流水号报文(太大或太小), 就认定有重放威胁. 该方法优点是不需要时间同步, 保存的信息量比随机数方式小. 缺点是一旦攻击者对报文解密成功, 就可以获得流水号, 从而每次将流水号递增欺骗认证端.
        - 阿里云api 使用单次请求签名的方式
